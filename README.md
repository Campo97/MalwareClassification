# MalwareClassification
Progetto percorso d'eccellenza Ingegneria Informatica

Lo script addEdges.py genera un nuovo grafo a partire da uno contentente solo nodi collegando con archi pesati i nodi ritenuti simili
Per il calcolo della similarità è richiesto un database di embeddings, uno per ogni funzione di ogni eseguibile.

Di default, lo script utilizza il database datatest.db contenuto nella cartella database analizzando tutti i nodi disponibili, contenuti nel grafo nodes nella cartella graphs privo di archi.
I risultati sono salvati nella cartella results in formato graphml, visionabile con gephi.
Per il comportamento standard è sufficiente far partire lo script senza parametri.

Alternativamente, è possibile raffinare il comportamento imponendo opzioni aggiuntive, alcune delle quali elencate qui sotto.
Tutte le opzioni disponibili sono visionabili eseguendo lo script con l'opzione -h :\
-g <path> indica il percorso del grafo di partenza (senza estensione, lo script accetta solo grafi di tipo gpickle)\
-dest <path> indica il percorso di destinazione\
-db <path> indica il percorso del database da utilizzare\
--sub <num> opera su un sottoinsieme di num nodi del grafo di partenza\
-pi mostra al termine delle operazioni informazioni aggiuntive sul grafo creato\
--both salva il risultato in entrambi i formati (graphml per gephi, gpickle per utilizzi con script python)\
-dc forza l'esecuzione di controlli aggiuntivi in fase di preparazione\
-t <threshold> imposta un valore personalizzato di soglia per il calcolo delle similarità. Il valore di default è 0.97\
-v causa la stampa di informazioni aggiuntive di test durante tutta l'esecuzione

Lo script, per facilitare esecuzioni successive sugli stessi dati di input, salva in un file in background (.store.pckl) le liste ottenute durante la fase di preparazione.
E' possibile in questo modo creare grafi più velocemente a partire dagli stessi nodi di partenza utilizzando soglie differenti.

Sono disponibili opzioni anche per gestire questo file di background, come:\
-n forza la fase preparatoria anche in caso di file di background presenti\
-i crea solo i file di background e termina l'esecuzione\
-r rimuove eventuali file di background e ferma l'esecuzione\
-c rimuove i file di background al termine delle operazioni\
